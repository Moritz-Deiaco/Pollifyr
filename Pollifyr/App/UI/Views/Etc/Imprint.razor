@using Pollifyr.App.Services
@using Pollifyr.App.Services.Partials
@using Pollifyr.App.UI.Views.Errors

@inject ImprintService imprintService
@inject ConfigService configService
@inject NavigationManager navigationManager

@page "/imprint"


@if (configService.Get().Information.Imprint)
{
    @impressum
}
else
{
    <NotFound/>
}

@code {
    MarkupString impressum = (MarkupString)"";
    
    protected override Task OnInitializedAsync()
    {
        if (!configService.Get().Information.Imprint)
        {
            navigationManager.NavigateTo("/");
        }
        
        
        impressum = imprintService.Get();
        
        StateHasChanged();
        
        return Task.CompletedTask;
    }

}